p(1,1).
p(1,2).
p(2,2).
p(1,3).
p(2,3).
p(3,3).
p(1,4).
p(2,4).
p(3,4).
p(4,4).
p(5,4).
p(1,5).
p(2,5).
p(3,5).
p(4,5).

a(1).
a(2).
a(3).
a(4).
a(5).

#program rules.
l(Z) :- a(Z), Z = #count{X : p(X,Z)}.

